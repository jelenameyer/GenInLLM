---
title: "analysis_reliability_check_with_R"
author: "Jelena Meyer"
format: html
editor: visual
---

## Recalculate Reliability of all scales using Cronbach's Alpha from `psych`

```{r packages}
library(readr)
library(psych)
library(tidyverse)
library(dplyr)
library(tidyr)
```



```{r read-data}
items_per_LLM <- read_csv("human_data_analysis/human_data/items_per_person.csv")

```



```{r subset-data}
SSSV_subscale_df <- items_per_LLM %>%
  #filter(category == "SSbor")
  filter(experiment == "FTND scale")

SSSV_subscale_wide <- SSSV_subscale_df %>%
  pivot_wider(
    id_cols = c(experiment, partid),
    names_from = item,
    values_from = score
  )

SSSV_subscale_wide

```




```{r}
# Select only smokers
smokers_data <- SSSV_subscale_wide %>%
  filter(`1.0` == 2) %>%   # adjust column name
  select(`2.0`:`7.0`)  # only the follow-up items

# Compute reliability
psych::alpha(smokers_data, check.keys = TRUE)
```


```{r}
psych::alpha(SSSV_subscale_wide %>% select(-experiment, -partid), check.keys = TRUE)
```






